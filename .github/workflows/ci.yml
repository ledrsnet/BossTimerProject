  - name: Set up JDK 17
    uses: actions/setup-java@v4
    with:
      java-version: '17'
      distribution: 'temurin'
      cache: 'gradle'

  - name: Grant execute permission for gradlew
    run: chmod +x gradlew

  - name: Build Debug APK with Gradle 8.7
    # 确保使用 app:assembleDebug，因为它构建了 app/build.gradle.kts 定义的模块
    run: ./gradlew assembleDebug

  - name: Upload Debug APK Artifact
    uses: actions/upload-artifact@v4
    with:
      name: BossTimer-Debug-APK
      path: app/build/outputs/apk/debug/app-debug.apk
      retention-days: 5